{"version":3,"sources":["webpack:///src/pages/expired/expired.vue","webpack:///./src/pages/expired/expired.vue?a2d0","webpack:///./src/pages/expired/expired.vue","webpack:///./src/pages/expired/expired.js","webpack:///./src/utils/util.js"],"names":["expired","data","formInline","user","password","submitting","ruleInline","required","message","trigger","methods","handleSubmit","name","_this","this","$refs","validate","valid","$http","post","headers","Content-Type","then","response","code","window","location","profile","uuid","$Message","error","content","msg","duration","closable","catch","e","expired_expired","render","_vm","_h","$createElement","_c","_self","attrs","span","type","justify","align","staticStyle","margin-top","min-width","text-align","ref","model","rules","method","disabled","nativeOn","submit","$event","preventDefault","_v","prop","placeholder","value","callback","$$v","$set","expression","slot","on","click","staticRenderFns","pages_expired_expired","__webpack_require__","normalizeComponent","utils","initAxios","axios","ViewUI","Vue","use","el","h","index","__webpack_exports__","getUUid","s","i","substr","Math","floor","random","join","replace","defaults","timeout","withCredentials","interceptors","request","config","defaultParams","parseUrl","href","params","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","_t","Date","parse","Notice","title","desc","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","reject","console","log","prototype","url","query","split","obj","forEach","item","key"],"mappings":"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","file":"static/js/expired.6ea1ec516e13627f64cb.js","sourcesContent":["<template>\n  <Row :span=\"24\" type=\"flex\" justify=\"center\" align=\"middle\">\n    <Col>\n      <Card style=\"margin-top:150px;min-width:400px;text-align:center\">\n        <Form\n          ref=\"form\"\n          :model=\"formInline\"\n          :rules=\"ruleInline\"\n          method=\"post\"\n          :disabled=\"submitting\"\n          @submit.native.prevent\n        >\n          <h1>Your session has expired!</h1>\n          <Divider />\n          <FormItem prop=\"user\">\n            <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"Username\" name=\"name\">\n              <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n            </Input>\n          </FormItem>\n           <FormItem prop=\"password\">\n            <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"Password\">\n                <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n            </Input>\n        </FormItem>\n          <FormItem>\n            <Button type=\"primary\" @click=\"handleSubmit('form')\">Login</Button>\n          </FormItem>\n        </Form>\n      </Card>\n    </Col>\n  </Row>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      formInline: {\n        user: '',\n        password: ''\n      },\n      submitting: false,\n      ruleInline: {\n        user: [\n          { required: true, message: 'Please fill in the user name', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: 'Please fill in the password.', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    handleSubmit (name) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          this.submitting = true\n          this.$http.post('/checkLogin',\n            'username=' + this.formInline.user + '&password=' + this.formInline.password,\n            {\n              headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n              }\n            }\n          )\n            .then((response) => {\n              if (response.data.code === 200) {\n                window.location = response.data.profile ? '/index?_uuid=' + response.data.uuid + '&_user=' + this.formInline.user : '/profile?_uuid=' + response.data.uuid + '&_user=' + this.formInline.user\n              } else {\n                this.$Message.error({\n                  content: response.data.msg,\n                  duration: 10,\n                  closable: true\n                })\n                this.submitting = false\n              }\n            }).catch((e) => {\n              this.submitting = false\n              this.$Message.error('Something wrong when sending data!')\n            })\n        }\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/expired/expired.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{attrs:{\"span\":24,\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',[_c('Card',{staticStyle:{\"margin-top\":\"150px\",\"min-width\":\"400px\",\"text-align\":\"center\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"method\":\"post\",\"disabled\":_vm.submitting},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('h1',[_vm._v(\"Your session has expired!\")]),_vm._v(\" \"),_c('Divider'),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"name\":\"name\"},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('form')}}},[_vm._v(\"Login\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ff916582\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/expired/expired.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./expired.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./expired.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff916582\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./expired.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/expired/expired.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport index from './expired.vue'\nimport ViewUI from 'view-design'\nimport axios from 'axios'\nimport './../theme.less'\nimport utils from '../../utils/util'\n\nutils.initAxios(axios, ViewUI, Vue)\n\nVue.use(ViewUI)\n// eslint-disable-next-line no-new\nnew Vue({\n  el: '#app',\n  render: h => h(index)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/expired/expired.js","export default {\n  getUUid () {\n    let s = []\n    let hexDigits = '0123456789abcdef'\n    for (let i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\n    }\n    s[14] = '4'\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\n    s[8] = s[13] = s[18] = s[23] = '-'\n\n    let uuid = s.join('')\n    return uuid.replace(/-/g, '')\n  },\n  initAxios (axios, ViewUI, Vue) {\n    axios.defaults.timeout = 15000\n    axios.defaults.withCredentials = true\n    axios.interceptors.request.use((config) => {\n      let defaultParams = this.parseUrl(window.location.href)\n      // ViewUI.LoadingBar.start()\n      if (config.headers && config.headers['Content-Type'] === 'application/x-www-form-urlencoded') return config\n      config.params = {\n        ...(config.params ? config.params : {}),\n        _t: Date.parse(new Date()),\n        ...defaultParams\n      }\n      return config\n    }, function (error) {\n      ViewUI.Notice.error(\n        {\n          title: 'Error',\n          desc: 'Something wrong when requesting data!'\n        })\n      // ViewUI.LoadingBar.error()\n      return Promise.reject(error)\n    })\n    axios.interceptors.response.use((config) => {\n      // ViewUI.LoadingBar.finish()\n      return config\n    }, function (error) {\n      console.log(error.response)\n      ViewUI.Notice.error(\n        {\n          title: 'Error',\n          desc: 'Something wrong when responding data!' + (error.response && error.response.data) ? error.response.data.message : ''\n        })\n      return Promise.reject(error)\n    })\n\n    Vue.prototype.$http = axios\n  },\n  parseUrl (url) {\n    var query = url.split('?')[1]\n    if (!query) return {}\n    var obj = {}\n    var queryArr = query.split('&')\n    queryArr.forEach(function (item) {\n      var value = item.split('=')[1]\n      var key = item.split('=')[0]\n      obj[key] = value\n    })\n    return obj\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js"],"sourceRoot":""}