{"version":3,"sources":["webpack:///src/pages/login/login.vue","webpack:///./src/pages/login/login.vue?4549","webpack:///./src/pages/login/login.vue","webpack:///./src/pages/login/login.js","webpack:///./src/utils/util.js"],"names":["login","components","axios","axios_default","a","data","formInline","user","password","role","submitting","ruleInline","required","message","trigger","methods","createNew","window","location","handleSubmit","name","action","_this","this","$refs","validate","valid","usrURL","post","then","json","$Notice","success","title","desc","$http","headers","Content-Type","response","code","uuid","$Message","error","content","msg","duration","closable","catch","e","console","log","login_login","render","_vm","_h","$createElement","_c","_self","attrs","span","type","justify","align","staticStyle","margin-top","min-width","text-align","ref","model","rules","method","disabled","nativeOn","submit","$event","preventDefault","_v","prop","placeholder","value","callback","$$v","$set","expression","slot","directives","rawName","id","domProps","checked","_q","on","change","for","click","staticRenderFns","pages_login_login","__webpack_require__","normalizeComponent","utils","initAxios","ViewUI","Vue","use","el","h","index","__webpack_exports__","getUUid","s","i","substr","Math","floor","random","join","replace","defaults","timeout","withCredentials","interceptors","request","config","defaultParams","parseUrl","href","params","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","_t","Date","parse","Notice","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","reject","prototype","url","query","split","obj","forEach","item","key"],"mappings":"+JAyCAA,GACAC,YACAC,MAAAC,EAAAC,GAEAC,KAJA,WAKA,OACAC,YACAC,KAAA,GACAC,SAAA,GACAC,KAAA,IAEAC,YAAA,EACAC,YACAJ,OACAK,UAAA,EAAAC,QAAA,+BAAAC,QAAA,SAEAN,WACAI,UAAA,EAAAC,QAAA,+BAAAC,QAAA,YAKAC,SACAC,UADA,WAEAC,OAAAC,SAAA,YAEAC,aAJA,SAIAC,EAAAC,GAAA,IAAAC,EAAAC,KACAA,KAAAC,MAAAJ,GAAAK,SAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAC,EAAA,oCAAAL,EAAAhB,WAAAC,KAAA,aAAAe,EAAAhB,WAAAE,SAAA,SAAAc,EAAAhB,WAAAG,KAAA,WAAAY,EACUlB,EAAAC,EAAVwB,KACAD,GACAE,KAAA,SAAAC,GAEAR,EAAAS,QAAAC,SACAC,MAAA,WACAC,KAAA,UAAAb,EAAA,oCAEAC,EAAAZ,YAAA,EACAY,EAAAa,MAAAP,KAAA,cACA,YAAAN,EAAAhB,WAAAC,KAAA,aAAAe,EAAAhB,WAAAE,UACA4B,SAAAC,eAAA,uCACAR,KAAA,SAAAS,GACA,MAAAA,EAAAjC,KAAAkC,KAEAtB,OAAAC,SAAA,gBAAAoB,EAAAjC,KAAAmC,KAAA,UAAAlB,EAAAhB,WAAAC,MAEAe,EAAAmB,SAAAC,OACAC,QAAAL,EAAAjC,KAAAuC,IACAC,SAAA,GACAC,UAAA,IAEAxB,EAAAZ,YAAA,KAEAqC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACA1B,EAAAZ,YAAA,EACAY,EAAAmB,SAAAC,MAAA,0CAEAK,MAAA,SAAAL,GAEAO,QAAAC,IAAAR,GACApB,EAAAmB,SAAAC,MAAA,8CCpGeS,GADEC,OAFP,WAAgB,IAAAC,EAAA9B,KAAa+B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,KAAA,GAAAC,KAAA,OAAAC,QAAA,SAAAC,MAAA,YAA6DN,EAAA,OAAAA,EAAA,QAAuBO,aAAaC,aAAA,QAAAC,YAAA,QAAAC,aAAA,YAAgEV,EAAA,QAAaW,IAAA,OAAAT,OAAkBU,MAAAf,EAAA/C,WAAA+D,MAAAhB,EAAA1C,WAAA2D,OAAA,OAAAC,SAAAlB,EAAA3C,YAAwF8D,UAAWC,OAAA,SAAAC,GAA0BA,EAAAC,qBAA2BnB,EAAA,MAAAH,EAAAuB,GAAA,kBAAAvB,EAAAuB,GAAA,KAAApB,EAAA,WAAAH,EAAAuB,GAAA,KAAApB,EAAA,YAAyFE,OAAOmB,KAAA,UAAerB,EAAA,SAAcE,OAAOE,KAAA,OAAAkB,YAAA,WAAA1D,KAAA,QAAqDgD,OAAQW,MAAA1B,EAAA/C,WAAA,KAAA0E,SAAA,SAAAC,GAAqD5B,EAAA6B,KAAA7B,EAAA/C,WAAA,OAAA2E,IAAsCE,WAAA,qBAA+B3B,EAAA,QAAaE,OAAO0B,KAAA,UAAAxB,KAAA,sBAA6CwB,KAAA,aAAgB,OAAA/B,EAAAuB,GAAA,KAAApB,EAAA,YAAqCE,OAAOmB,KAAA,cAAmBrB,EAAA,SAAcE,OAAOE,KAAA,WAAAkB,YAAA,YAA2CV,OAAQW,MAAA1B,EAAA/C,WAAA,SAAA0E,SAAA,SAAAC,GAAyD5B,EAAA6B,KAAA7B,EAAA/C,WAAA,WAAA2E,IAA0CE,WAAA,yBAAmC3B,EAAA,QAAaE,OAAO0B,KAAA,UAAAxB,KAAA,oBAA2CwB,KAAA,aAAgB,OAAA/B,EAAAuB,GAAA,KAAApB,EAAA,YAAqCE,OAAOmB,KAAA,UAAerB,EAAA,SAAc6B,aAAajE,KAAA,QAAAkE,QAAA,UAAAP,MAAA1B,EAAA/C,WAAA,KAAA6E,WAAA,oBAAwFzB,OAASE,KAAA,QAAA2B,GAAA,MAAAR,MAAA,OAAwCS,UAAWC,QAAApC,EAAAqC,GAAArC,EAAA/C,WAAAG,KAAA,QAA4CkF,IAAKC,OAAA,SAAAlB,GAA0B,OAAArB,EAAA6B,KAAA7B,EAAA/C,WAAA,kBAAiD+C,EAAAuB,GAAA,KAAApB,EAAA,SAA0BE,OAAOmC,IAAA,SAAaxC,EAAAuB,GAAA,mBAAAvB,EAAAuB,GAAA,KAAApB,EAAA,SAAoD6B,aAAajE,KAAA,QAAAkE,QAAA,UAAAP,MAAA1B,EAAA/C,WAAA,KAAA6E,WAAA,oBAAwFzB,OAASE,KAAA,QAAA2B,GAAA,MAAAR,MAAA,OAAwCS,UAAWC,QAAApC,EAAAqC,GAAArC,EAAA/C,WAAAG,KAAA,QAA4CkF,IAAKC,OAAA,SAAAlB,GAA0B,OAAArB,EAAA6B,KAAA7B,EAAA/C,WAAA,kBAAiD+C,EAAAuB,GAAA,KAAApB,EAAA,SAA0BE,OAAOmC,IAAA,SAAaxC,EAAAuB,GAAA,oBAAAvB,EAAAuB,GAAA,KAAApB,EAAA,YAAAA,EAAA,UAAqEE,OAAOE,KAAA,WAAiB+B,IAAKG,MAAA,SAAApB,GAAyB,OAAArB,EAAAlC,aAAA,oBAA2CkC,EAAAuB,GAAA,YAAAvB,EAAAuB,GAAA,KAAApB,EAAA,UAA8CmC,IAAIG,MAAA,SAAApB,GAAyB,OAAArB,EAAAlC,aAAA,qBAA4CkC,EAAAuB,GAAA,kCAEjsEmB,oBCqBjBC,EAvBUC,EAAQ,OAcjCC,CACElG,EACAmD,GATF,EAEA,KAEA,KAEA,MAUgC,iDChBhCgD,EAAMC,UAAUlG,IAAOmG,IAAQC,WAE/BA,UAAIC,IAAIF,KAER,IAAIC,WACFE,GAAI,OACJpD,OAAQ,SAAAqD,GAAA,OAAKA,EAAEC,uFCbFC,EAAA,GACbC,QADa,WAIX,IAFA,IAAIC,KAEKC,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAEC,GAFY,mBAEGC,OAAOC,KAAKC,MAAsB,GAAhBD,KAAKE,UAAkB,GAO5D,OALAL,EAAE,IAAM,IACRA,EAAE,IALc,mBAKEE,OAAgB,EAARF,EAAE,IAAa,EAAK,GAC9CA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,IAAM,IAEpBA,EAAEM,KAAK,IACNC,QAAQ,KAAM,KAE5BhB,UAda,SAcFlG,EAAOmG,EAAQC,GAAK,IAAAhF,EAAAC,KAC7BrB,EAAMmH,SAASC,QAAU,KACzBpH,EAAMmH,SAASE,iBAAkB,EACjCrH,EAAMsH,aAAaC,QAAQlB,IAAI,SAACmB,GAC9B,IAAIC,EAAgBrG,EAAKsG,SAAS3G,OAAOC,SAAS2G,MAElD,OAAIH,EAAOtF,SAA8C,sCAAnCsF,EAAOtF,QAAQ,gBAAgEsF,GACrGA,EAAOI,OAAPC,OACML,EAAOI,OAASJ,EAAOI,WAC3BE,GAAIC,KAAKC,MAAM,IAAID,OAChBN,GAEED,IACN,SAAUhF,GAOX,OANA2D,EAAO8B,OAAOzF,OAEVT,MAAO,QACPC,KAAM,0CAGHkG,EAAAhI,EAAQiI,OAAO3F,KAExBxC,EAAMsH,aAAalF,SAASiE,IAAI,SAACmB,GAE/B,OAAOA,GACN,SAAUhF,GAOX,OANAO,QAAQC,IAAIR,EAAMJ,UAClB+D,EAAO8B,OAAOzF,OAEVT,MAAO,QACPC,KAA0FQ,EAAMJ,SAASjC,KAAKQ,UAE3GuH,EAAAhI,EAAQiI,OAAO3F,KAGxB4D,EAAIgC,UAAUnG,MAAQjC,GAExB0H,SAnDa,SAmDHW,GACR,IAAIC,EAAQD,EAAIE,MAAM,KAAK,GAC3B,IAAKD,EAAO,SACZ,IAAIE,KAOJ,OANeF,EAAMC,MAAM,KAClBE,QAAQ,SAAUC,GACzB,IAAI7D,EAAQ6D,EAAKH,MAAM,KAAK,GACxBI,EAAMD,EAAKH,MAAM,KAAK,GAC1BC,EAAIG,GAAO9D,IAEN2D","file":"static/js/login.b9fb00171c0f00d923a3.js","sourcesContent":["<template>\n  <Row :span=\"24\" type=\"flex\" justify=\"center\" align=\"middle\">\n    <Col>\n      <Card style=\"margin-top:150px;min-width:400px;text-align:center\">\n        <Form\n          ref=\"form\"\n          :model=\"formInline\"\n          :rules=\"ruleInline\"\n          method=\"post\"\n          :disabled=\"submitting\"\n          @submit.native.prevent\n        >\n          <h1>Please login</h1>\n          <Divider />\n          <FormItem prop=\"user\">\n            <Input type=\"text\" v-model=\"formInline.user\" placeholder=\"Username\" name=\"name\">\n              <Icon type=\"ios-person-outline\" slot=\"prepend\"></Icon>\n            </Input>\n          </FormItem>\n          <FormItem prop=\"password\">\n            <Input type=\"password\" v-model=\"formInline.password\" placeholder=\"Password\">\n              <Icon type=\"ios-lock-outline\" slot=\"prepend\"></Icon>\n            </Input>\n          </FormItem>\n          <FormItem prop=\"role\">\n            <input type=\"radio\" id=\"cus\" value=\"cus\" v-model=\"formInline.role\" />\n            <label for=\"cus\">Customer/User</label>\n            <input type=\"radio\" id=\"sys\" value=\"sys\" v-model=\"formInline.role\" />\n            <label for=\"sys\">System/Admin</label>\n          </FormItem>\n          <FormItem>\n            <Button type=\"primary\" @click=\"handleSubmit('form', 'login')\">Log In</Button>\n            <Button @click=\"handleSubmit('form', 'signup')\">Sign Up</Button>\n          </FormItem>\n        </Form>\n      </Card>\n    </Col>\n  </Row>\n</template>\n<script>\nimport axios from 'axios'\nexport default {\n  components: {\n    axios\n  },\n  data () {\n    return {\n      formInline: {\n        user: '',\n        password: '',\n        role: ''\n      },\n      submitting: false,\n      ruleInline: {\n        user: [\n          { required: true, message: 'Please fill in the user name', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: 'Please fill in the password.', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    createNew () {\n      window.location = '/profile'\n    },\n    handleSubmit (name, action) {\n      this.$refs[name].validate((valid) => {\n        if (valid) {\n          let usrURL = 'http://localhost:9191/login?name=' + this.formInline.user + '&password=' + this.formInline.password + '&role=' + this.formInline.role + '&action=' + action\n          axios.post(\n            usrURL\n          ).then((json) => {\n            // debugger\n            this.$Notice.success({\n              title: 'Success!',\n              desc: action === 'login' ? 'User logged in.' : 'User created.'\n            })\n            this.submitting = true\n            this.$http.post('/checkLogin',\n              'username=' + this.formInline.user + '&password=' + this.formInline.password,\n              {headers: {'Content-Type': 'application/x-www-form-urlencoded'}}\n            ).then((response) => {\n              if (response.data.code === 200) {\n                // window.location = response.data.profile ? '/index?_uuid=' + response.data.uuid + '&_user=' + this.formInline.user : '/profile?_uuid=' + response.data.uuid + '&_user=' + this.formInline.user\n                window.location = '/index?_uuid=' + response.data.uuid + '&_user=' + this.formInline.user\n              } else {\n                this.$Message.error({\n                  content: response.data.msg,\n                  duration: 10,\n                  closable: true\n                })\n                this.submitting = false\n              }\n            }).catch((e) => {\n              console.log(e)\n              this.submitting = false\n              this.$Message.error('Something wrong when sending data!')\n            })\n          }).catch((error) => {\n            // debugger\n            console.log(error)\n            this.$Message.error('Something wrong when sending data!')\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{attrs:{\"span\":24,\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('Col',[_c('Card',{staticStyle:{\"margin-top\":\"150px\",\"min-width\":\"400px\",\"text-align\":\"center\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formInline,\"rules\":_vm.ruleInline,\"method\":\"post\",\"disabled\":_vm.submitting},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('h1',[_vm._v(\"Please login\")]),_vm._v(\" \"),_c('Divider'),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"name\":\"name\"},model:{value:(_vm.formInline.user),callback:function ($$v) {_vm.$set(_vm.formInline, \"user\", $$v)},expression:\"formInline.user\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-person-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"password\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},model:{value:(_vm.formInline.password),callback:function ($$v) {_vm.$set(_vm.formInline, \"password\", $$v)},expression:\"formInline.password\"}},[_c('Icon',{attrs:{\"slot\":\"prepend\",\"type\":\"ios-lock-outline\"},slot:\"prepend\"})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"role\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formInline.role),expression:\"formInline.role\"}],attrs:{\"type\":\"radio\",\"id\":\"cus\",\"value\":\"cus\"},domProps:{\"checked\":_vm._q(_vm.formInline.role,\"cus\")},on:{\"change\":function($event){return _vm.$set(_vm.formInline, \"role\", \"cus\")}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"cus\"}},[_vm._v(\"Customer/User\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formInline.role),expression:\"formInline.role\"}],attrs:{\"type\":\"radio\",\"id\":\"sys\",\"value\":\"sys\"},domProps:{\"checked\":_vm._q(_vm.formInline.role,\"sys\")},on:{\"change\":function($event){return _vm.$set(_vm.formInline, \"role\", \"sys\")}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sys\"}},[_vm._v(\"System/Admin\")])]),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSubmit('form', 'login')}}},[_vm._v(\"Log In\")]),_vm._v(\" \"),_c('Button',{on:{\"click\":function($event){return _vm.handleSubmit('form', 'signup')}}},[_vm._v(\"Sign Up\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-df902eca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/login.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-df902eca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport index from './login.vue'\nimport ViewUI from 'view-design'\nimport axios from 'axios'\nimport './../theme.less'\nimport utils from '../../utils/util'\n\nutils.initAxios(axios, ViewUI, Vue)\n\nVue.use(ViewUI)\n// eslint-disable-next-line no-new\nnew Vue({\n  el: '#app',\n  render: h => h(index)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.js","export default {\n  getUUid () {\n    let s = []\n    let hexDigits = '0123456789abcdef'\n    for (let i = 0; i < 36; i++) {\n      s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\n    }\n    s[14] = '4'\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\n    s[8] = s[13] = s[18] = s[23] = '-'\n\n    let uuid = s.join('')\n    return uuid.replace(/-/g, '')\n  },\n  initAxios (axios, ViewUI, Vue) {\n    axios.defaults.timeout = 15000\n    axios.defaults.withCredentials = true\n    axios.interceptors.request.use((config) => {\n      let defaultParams = this.parseUrl(window.location.href)\n      // ViewUI.LoadingBar.start()\n      if (config.headers && config.headers['Content-Type'] === 'application/x-www-form-urlencoded') return config\n      config.params = {\n        ...(config.params ? config.params : {}),\n        _t: Date.parse(new Date()),\n        ...defaultParams\n      }\n      return config\n    }, function (error) {\n      ViewUI.Notice.error(\n        {\n          title: 'Error',\n          desc: 'Something wrong when requesting data!'\n        })\n      // ViewUI.LoadingBar.error()\n      return Promise.reject(error)\n    })\n    axios.interceptors.response.use((config) => {\n      // ViewUI.LoadingBar.finish()\n      return config\n    }, function (error) {\n      console.log(error.response)\n      ViewUI.Notice.error(\n        {\n          title: 'Error',\n          desc: 'Something wrong when responding data!' + (error.response && error.response.data) ? error.response.data.message : ''\n        })\n      return Promise.reject(error)\n    })\n\n    Vue.prototype.$http = axios\n  },\n  parseUrl (url) {\n    var query = url.split('?')[1]\n    if (!query) return {}\n    var obj = {}\n    var queryArr = query.split('&')\n    queryArr.forEach(function (item) {\n      var value = item.split('=')[1]\n      var key = item.split('=')[0]\n      obj[key] = value\n    })\n    return obj\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js"],"sourceRoot":""}